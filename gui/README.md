# 有道云笔记GUI管理工具

## 📁 文件结构

```
gui/
├── youdao_api.py      # 安全的API封装类
├── youdao_gui.py      # 主GUI应用程序
├── start_gui.py       # 启动脚本
└── README.md          # 说明文档
```

## 🚀 快速开始

### 1. 启动GUI应用

```bash
# 方法1: 使用启动脚本（推荐）
cd gui
python start_gui.py

# 方法2: 直接启动GUI
cd gui
python youdao_gui.py
```

### 2. 前置条件

- 确保父目录中有有效的 `cookies.json` 文件
- Python 3.6+ 环境
- tkinter 库（通常随Python安装）

## ✨ 主要功能

### 🔍 浏览和搜索
- **目录浏览**: 树形结构显示文件和文件夹
- **实时搜索**: 输入关键词搜索所有文件和文件夹
- **路径导航**: 显示当前位置，支持进入文件夹

### 📥 下载功能
- **单个下载**: 右键菜单下载文件或文件夹
- **批量下载**: 选择多个项目批量下载
- **进度显示**: 实时显示下载进度和状态

### 🛠️ 实用工具
- **复制ID**: 复制文件/文件夹的唯一标识符
- **复制路径**: 复制完整路径到剪贴板
- **自定义下载目录**: 选择文件保存位置

## 🔧 技术特性

### 安全性改进
- **Unicode安全**: 处理特殊字符和emoji，避免显示错误
- **文件名安全**: 自动处理不安全的文件名字符
- **错误处理**: 完善的异常处理和用户提示

### 性能优化
- **后台操作**: 搜索和下载在后台线程执行
- **响应式界面**: 操作不会阻塞界面响应
- **内存优化**: 避免加载过大的数据到内存

### 用户体验
- **直观界面**: 清晰的图标和布局
- **状态反馈**: 实时显示操作状态和进度
- **快捷操作**: 支持双击、右键菜单等

## 📋 界面说明

### 工具栏
- **当前路径**: 显示当前浏览位置
- **刷新**: 重新加载当前目录
- **返回上级**: 返回上级目录或退出搜索模式
- **搜索框**: 输入关键词搜索（支持回车快捷键）
- **批量下载**: 下载选中的多个项目
- **选择下载目录**: 设置文件保存位置

### 文件列表
- **名称**: 文件或文件夹名称（带图标）
- **类型**: 文件或文件夹标识
- **大小**: 文件大小（文件夹显示"-"）
- **修改时间**: 最后修改时间
- **ID**: 有道云笔记中的唯一标识符

### 状态栏
- **操作状态**: 当前执行的操作
- **进度条**: 下载进度显示
- **下载目录**: 当前设置的保存位置

## 🎯 使用技巧

1. **快速搜索**: 在搜索框输入关键词后按回车
2. **批量选择**: 按住Ctrl键点击多个项目
3. **快速进入**: 双击文件夹直接进入
4. **路径复制**: 右键菜单快速复制路径
5. **搜索退出**: 点击"返回上级"退出搜索模式

## ⚠️ 注意事项

1. **网络连接**: 确保网络正常，需要访问有道云笔记服务器
2. **Cookie有效性**: 如果登录失败，请更新cookies.json文件
3. **磁盘空间**: 下载前确保有足够的存储空间
4. **特殊字符**: 工具会自动处理文件名中的特殊字符

## 🐛 故障排除

### 登录失败
```
❌ Cookie登录失败
```
**解决方案**: 
- 检查父目录的cookies.json文件是否存在
- 重新从浏览器提取cookie信息
- 确认有道云笔记账户状态正常

### Unicode错误
```
❌ character U+1f4c1 is above the range allowed by Tcl
```
**解决方案**: 
- 使用新版GUI（已修复此问题）
- 工具会自动处理特殊字符

### 下载失败
```
❌ 下载失败: [错误信息]
```
**解决方案**:
- 检查网络连接
- 确认下载目录有写入权限
- 检查磁盘空间是否充足

## 📞 技术支持

如果遇到问题：

1. **检查日志**: 查看控制台输出的错误信息
2. **重启应用**: 关闭并重新启动GUI
3. **更新Cookie**: 重新提取浏览器cookie
4. **检查网络**: 确认网络连接正常

## 🔄 更新日志

### v2.0 (当前版本)
- ✅ 修复Unicode字符显示问题
- ✅ 改进文件名安全处理
- ✅ 优化错误处理和用户提示
- ✅ 独立GUI文件夹结构
- ✅ 简化依赖，避免复杂模块导入

### v1.0
- ✅ 基础GUI功能
- ✅ 文件浏览和搜索
- ✅ 单个和批量下载

---

**享受使用有道云笔记GUI管理工具！** 🎉
